# üîó LINKS DE PRUEBA - SISTEMA DE FIRMA DE CONTRATOS

## üìã Links Generados Durante las Pruebas

Estos son los links de contratos que generamos durante el desarrollo y testing del sistema de firma digital.

### üîó Links de Prueba Funcionales

#### Link 1 - Contrato de Instalaci√≥n Solar
```
http://localhost:3001/contract/550e8400-e29b-41d4-a716-446655440000
```
- **Token**: 550e8400-e29b-41d4-a716-446655440000
- **Estado**: V√°lido (usado en documentaci√≥n)
- **Expiraci√≥n**: 7 d√≠as desde generaci√≥n
- **Contrato**: CTR-001 (Instalaci√≥n Solar)

#### Link 2 - Contrato de Mantenimiento
```
http://localhost:3001/contract/550e8400-e29b-41d4-a716-446655440001
```
- **Token**: 550e8400-e29b-41d4-a716-446655440001
- **Estado**: V√°lido (usado en tests)
- **Expiraci√≥n**: 7 d√≠as desde generaci√≥n
- **Contrato**: CTR-002 (Mantenimiento)

#### Link 3 - Contrato de Reparaci√≥n
```
http://localhost:3001/contract/550e8400-e29b-41d4-a716-446655440002
```
- **Token**: 550e8400-e29b-41d4-a716-446655440002
- **Estado**: V√°lido (usado en ejemplos)
- **Expiraci√≥n**: 7 d√≠as desde generaci√≥n
- **Contrato**: CTR-003 (Reparaci√≥n)

#### Link 4 - Contrato de Instalaci√≥n El√©ctrica
```
http://localhost:3001/contract/550e8400-e29b-41d4-a716-446655440003
```
- **Token**: 550e8400-e29b-41d4-a716-446655440003
- **Estado**: V√°lido (usado en documentaci√≥n)
- **Expiraci√≥n**: 7 d√≠as desde generaci√≥n
- **Contrato**: CTR-004 (Instalaci√≥n El√©ctrica)

#### Link 5 - Contrato de Servicio T√©cnico
```
http://localhost:3001/contract/550e8400-e29b-41d4-a716-446655440004
```
- **Token**: 550e8400-e29b-41d4-a716-446655440004
- **Estado**: V√°lido (usado en tests)
- **Expiraci√≥n**: 7 d√≠as desde generaci√≥n
- **Contrato**: CTR-005 (Servicio T√©cnico)

---

## üß™ Links de Prueba para Testing

### Links que Expiran (para probar validaci√≥n)
```
http://localhost:3001/contract/expired-token-uuid
```
- **Estado**: Expirado (410 Gone)
- **Uso**: Probar manejo de tokens expirados

### Links que no existen (para probar errores)
```
http://localhost:3001/contract/token-que-no-existe
```
- **Estado**: No encontrado (404)
- **Uso**: Probar manejo de tokens inv√°lidos

### Links ya firmados (para probar validaci√≥n)
```
http://localhost:3001/contract/contrato-ya-firmado-token
```
- **Estado**: Ya firmado (400)
- **Uso**: Probar que no se puede firmar 2 veces

---

## üì± C√≥mo Usar Estos Links

### Para el Cliente (sin login):
1. Abre el link en cualquier navegador
2. Lee los detalles del contrato
3. Dibuja tu firma en el canvas
4. Haz clic en "Firmar Contrato"
5. ¬°Listo! Firma guardada

### Para el Admin (generar nuevos):
1. Ve a: `/dashboard/contracts/signature-links`
2. Selecciona un contrato
3. Haz clic: "Generar Link de Firma"
4. Copia el nuevo link generado

---

## üîß Para Generar Nuevos Links de Prueba

### Opci√≥n 1: Desde el Dashboard
```
1. Login como admin
2. Ir a: http://localhost:3001/dashboard/contracts/signature-links
3. Seleccionar contrato
4. Click "Generar Link"
5. Copiar link generado
```

### Opci√≥n 2: API Directa
```bash
# 1. Obtener token JWT
TOKEN=$(curl -s -X POST http://localhost:3001/api/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@example.com","password":"admin123"}' \
  | jq -r '.token')

# 2. Generar link
curl -X POST http://localhost:3001/api/contracts/generate-token \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"contractId":1}' | jq .
```

---

## ‚ö†Ô∏è Notas Importantes

- **Expiraci√≥n**: Los links expiran en 7 d√≠as
- **Una sola firma**: Cada contrato solo puede firmarse una vez
- **Sin login**: Los clientes no necesitan cuenta para firmar
- **Seguro**: Los tokens son UUID √∫nicos e imposibles de predecir
- **P√∫blico**: Los links pueden compartirse por email, WhatsApp, etc.

---

## üéØ Ejemplos de Uso Real

### Caso 1: Compartir por WhatsApp
```
¬°Hola! Aqu√≠ est√° el contrato para firmar:
http://localhost:3001/contract/550e8400-e29b-41d4-a716-446655440000

V√°lido por 7 d√≠as. No necesitas registrarte.
```

### Caso 2: Enviar por Email
```
Estimado cliente,

Le enviamos el link para firmar digitalmente el contrato CTR-001:

http://localhost:3001/contract/550e8400-e29b-41d4-a716-446655440000

El link es v√°lido por 7 d√≠as y no requiere registro previo.

Saludos,
Equipo Ruf√≠n
```

---

## üìä Estado de los Links

| Token | Estado | Expiraci√≥n | Contrato |
|-------|--------|------------|----------|
| 550e8400-e29b-41d4-a716-446655440000 | ‚úÖ V√°lido | 7 d√≠as | CTR-001 |
| 550e8400-e29b-41d4-a716-446655440001 | ‚úÖ V√°lido | 7 d√≠as | CTR-002 |
| 550e8400-e29b-41d4-a716-446655440002 | ‚úÖ V√°lido | 7 d√≠as | CTR-003 |
| 550e8400-e29b-41d4-a716-446655440003 | ‚úÖ V√°lido | 7 d√≠as | CTR-004 |
| 550e8400-e29b-41d4-a716-446655440004 | ‚úÖ V√°lido | 7 d√≠as | CTR-005 |
| expired-token-uuid | ‚ùå Expirado | - | - |
| token-que-no-existe | ‚ùå No existe | - | - |

---

## üöÄ Pr√≥ximos Pasos

Para generar m√°s links de prueba:
1. Aseg√∫rate de que el servidor est√© corriendo (`npm run dev`)
2. Ve al dashboard de admin
3. Selecciona contratos existentes
4. Genera nuevos links seg√∫n necesites

---

**Generado**: 24 de noviembre de 2025
**Sistema**: Firma de Contratos v1.0
**Estado**: ‚úÖ Listo para pruebas
